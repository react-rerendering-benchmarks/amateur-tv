!function(){"use strict";var e,a={761:function(){var e=window.wp.element,a=window.wp.blocks,t=window.wp.blockEditor,l=window.wp.i18n,n=window.wp.data,r=window.wp.components,o=window.wp.coreData;(0,a.registerBlockType)("amateur-tv/feed",{edit:function(a){(0,t.useBlockProps)();const{attributes:o,setAttributes:m}=a,{usernameColor:i,lang:u,liveColor:s,displayLive:c,displayTopic:v,displayGenre:_,displayUsers:g,bgColor:p,genre:h,age:d,topicColor:b,link:C,targetNew:f,labelBgColor:w,imageWidth:E,imageHeight:S,columnGap:y,autoRefresh:k,api:P,count:x,textShadowColor:T,textShadowValue:L,camLang:I,tags:F,order:B}=o,N="1px 1px",[O,R]=(0,e.useState)(!0),[A,G]=(0,e.useState)(null),[j,U]=(0,e.useState)(new URL(P)),M=e=>{let a=j,t=e.val;e.multiple&&(t=t.join(",")),t?a.searchParams.set(e.name,t):a.searchParams.delete(e.name),G(null),U(j),R(!0)},W=(0,n.useSelect)((e=>{var a;let t=null===(a=e("core").getSite())||void 0===a?void 0:a.language;return t&&t.split("_")[0]}));return(0,e.useEffect)((()=>{O&&fetch(j,{method:"GET"}).then((e=>e.json())).then((e=>{R(!1),G(e.body)})).catch((e=>console.error(e)))}),[O,j]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.InspectorControls,null,(0,e.createElement)(r.PanelBody,{title:(0,l.__)("Filters","amateur-tv"),initialOpen:!0},(0,e.createElement)(r.SelectControl,{label:(0,l.__)("Gender","amateur-tv"),value:h,multiple:!0,options:[{label:(0,l.__)("Woman","amateur-tv"),value:"W"},{label:(0,l.__)("Couple","amateur-tv"),value:"C"},{label:(0,l.__)("Man","amateur-tv"),value:"M"},{label:(0,l.__)("Trans","amateur-tv"),value:"T"}],onChange:e=>{m({genre:e}),M({name:"genre",val:e,multiple:!0})}}),(0,e.createElement)(r.SelectControl,{label:(0,l.__)("Age","amateur-tv"),value:d,multiple:!0,options:[{label:"18-22",value:"18-22"},{label:"23-29",value:"23-29"},{label:"29-39",value:"29-39"},{label:"40",value:"40"}],onChange:e=>{m({age:e}),M({name:"age",val:e,multiple:!0})}}),(0,e.createElement)(r.RangeControl,{label:(0,l.__)("Number of cams","amateur-tv"),value:x,initialPosition:A?A.length:0,onChange:e=>{m({count:e})},min:0,max:A?A.length:0}),(0,e.createElement)(r.SelectControl,{label:(0,l.__)("Language","amateur-tv"),value:I,multiple:!0,help:(0,l.__)("Language spoken by model","amateur-tv"),options:[{label:(0,l.__)("English"),value:"en"},{label:(0,l.__)("Spanish"),value:"es"},{label:(0,l.__)("French"),value:"fr"},{label:(0,l.__)("German"),value:"de"},{label:(0,l.__)("Russian"),value:"ru"},{label:(0,l.__)("Italian"),value:"it"},{label:(0,l.__)("Portugese"),value:"pt"},{label:(0,l.__)("Chinese"),value:"cn"}],onChange:e=>{m({camLang:e}),M({name:"camLang",val:e,multiple:!0})}}),(0,e.createElement)(r.FormTokenField,{label:(0,l.__)("Tags","amateur-tv"),value:F,tokenizeOnSpace:!0,__experimentalValidateInput:e=>/^[aA-zZ]+$/.test(e),onChange:e=>{const a=e.map((e=>e.toLowerCase()));m({tags:a}),M({name:"tag",val:a,multiple:!0})}})),(0,e.createElement)(r.PanelBody,{title:(0,l.__)("Display Settings","amateur-tv"),initialOpen:!0},(0,e.createElement)(r.SelectControl,{label:(0,l.__)("Language","amateur-tv"),value:u||W,options:[{label:(0,l.__)("English"),value:"en"},{label:(0,l.__)("Spanish"),value:"es"},{label:(0,l.__)("French"),value:"fr"},{label:(0,l.__)("German"),value:"de"}],onChange:e=>{m({lang:e}),M({name:"lang",val:e,multiple:!1})}}),(0,e.createElement)(r.SelectControl,{label:(0,l.__)("Order","amateur-tv"),value:B,options:[{label:(0,l.__)("Featured","amateur-tv"),value:"highlighted"},{label:(0,l.__)("Viewers","amateur-tv"),value:"realviewers"},{label:(0,l.__)("New","amateur-tv"),value:"new"}],onChange:e=>{m({order:e}),M({name:"order",val:e,multiple:!1})}}),(0,e.createElement)(r.ToggleControl,{label:(0,l.__)("Show Live Label","amateur-tv"),checked:!!c,onChange:e=>{m({displayLive:!c})}}),(0,e.createElement)(r.ToggleControl,{label:(0,l.__)("Show Gender","amateur-tv"),checked:!!_,onChange:e=>{m({displayGenre:!_})}}),(0,e.createElement)(r.ToggleControl,{label:(0,l.__)("Show Users","amateur-tv"),checked:!!g,onChange:e=>{m({displayUsers:!g})}}),(0,e.createElement)(r.ToggleControl,{label:(0,l.__)("Show Topic","amateur-tv"),checked:!!v,onChange:e=>{m({displayTopic:!v})}}),(0,e.createElement)(r.Flex,null,(0,e.createElement)(r.FlexBlock,null,(0,e.createElement)(r.FlexItem,null,(0,e.createElement)(r.TextControl,{label:(0,l.__)("Link","amateur-tv"),value:C,onChange:e=>{m({link:e})},help:(0,l.__)("Absolute or relative URL. Leave blank to use the link of the cam. Placeholders supported: {camname}, {affiliate}","amateur-tv")})),(0,e.createElement)(r.FlexItem,null,(0,e.createElement)(r.ToggleControl,{label:(0,l.__)("Open in new tab","amateur-tv"),checked:!!f,onChange:e=>{m({targetNew:e})}})))),(0,e.createElement)(t.PanelColorSettings,{title:(0,l.__)("Color Settings","amateur-tv"),initialOpen:!1,colorSettings:[{value:i,onChange:e=>{m({usernameColor:e})},label:(0,l.__)("Username/Gender","amateur-tv"),enableAlpha:!0},{value:s,onChange:e=>{m({liveColor:e})},label:(0,l.__)("Live Label","amateur-tv"),enableAlpha:!0},{value:b,onChange:e=>{m({topicColor:e})},label:(0,l.__)("Topic","amateur-tv"),enableAlpha:!0},{value:p,onChange:e=>{m({bgColor:e})},label:(0,l.__)("Background","amateur-tv"),enableAlpha:!0},{value:w,onChange:e=>{m({labelBgColor:e})},label:(0,l.__)("Username/Topic Background","amateur-tv"),colors:[{color:"#00000021"},{color:"#0000FF21"},{color:"#FF000021"},{color:"#00FF0021"}],enableAlpha:!0},{value:T,onChange:e=>{m({textShadowColor:e}),m(void 0!==e?{textShadowValue:[N,e].join(" ")}:{textShadowValue:null})},label:(0,l.__)("Text Shadow","amateur-tv"),enableAlpha:!1}]}),(0,e.createElement)(r.RangeControl,{label:(0,l.__)("Column Gap","amateur-tv"),value:y,initialPosition:3,onChange:e=>{m({columnGap:e})},min:0,max:10}),(0,e.createElement)(r.RangeControl,{label:(0,l.__)("Image Height","amateur-tv"),value:S,initialPosition:115,onChange:e=>{m({imageHeight:e})},min:115,max:500}),(0,e.createElement)(r.RangeControl,{label:(0,l.__)("Image Width","amateur-tv"),value:E,initialPosition:216,onChange:e=>{m({imageWidth:e})},min:216,max:500}),(0,e.createElement)(r.RangeControl,{label:(0,l.__)("Auto Refresh (minutes)","amateur-tv"),value:k,initialPosition:0,onChange:e=>{m({autoRefresh:e})},min:0,max:10}))),!!O&&(0,e.createElement)("div",{key:"loading",className:"wp-block-embed is-loading"},(0,e.createElement)(r.Spinner,null),(0,e.createElement)("p",null,(0,l.__)("Fetching...","amateur-tv"))),(0,e.createElement)("div",(0,t.useBlockProps)(),(0,e.createElement)("div",{className:"atv-cams-list",style:{backgroundColor:p,gap:y}},!!A&&A.slice(0,x>0?x:A.length).map(((a,t)=>(0,e.createElement)("a",{key:t,target:"_blank",className:"atv-cam"},(0,e.createElement)("img",{src:a.image,width:E,height:S,style:{maxHeight:S}}),(0,e.createElement)("div",{className:"atv-annotations"},!!c&&(0,e.createElement)("span",{className:"atv-live atv-padding",style:{color:s,textShadow:L}},(0,l.__)("Live","amateur-tv")),!!_&&(0,e.createElement)("span",{className:"atv-genre atv-padding",style:{color:i,textShadow:L}},(0,l.__)(a.genre,"amateur-tv")),!!g&&(0,e.createElement)("span",{className:"atv-viewers atv-padding",style:{color:s,textShadow:L}},(0,e.createElement)("span",{className:"dashicons dashicons-visibility"}),(0,e.createElement)("span",null,a.viewers)),(0,e.createElement)("span",{className:"atv-username atv-padding atv-rounded",style:{color:i,backgroundColor:w,textShadow:L}},a.username),!!v&&(0,e.createElement)("div",{className:"atv-topic atv-padding atv-rounded",style:{color:b,backgroundColor:w,textShadow:L}},a.topic[u||"en"]))))))))},save:function(e){return null}}),(0,a.registerBlockType)("amateur-tv/iframe",{edit:function(a){(0,t.useBlockProps)();const{attributes:n,setAttributes:o}=a,[m,i]=(0,e.useState)(!1),{genre:u,age:s,iframeHeight:c,camType:v,camName:_,iframeUrl:g,camLang:p,tags:h}=n,d={popular:(0,l.__)("It will randomly show a live cam from the most popular cams according to your filters","amateur-tv"),camname:(0,l.__)("It will show the cam of the below mentioned username, even if it is offline. If the name doesn't exist, it will show a random cam from the same genre","amateur-tv"),camparam:(0,l.__)('It will show the cam from the parameter on the URL with the name "livecam". If the name doesn\'t exist, it will show a random cam from the same genre',"amateur-tv")},[b,C]=(0,e.useState)(new URL(g+c));let f='<iframe width="100%" height="'+c+'" src='+b.toString()+' frameborder="0" class="atv_lazy_load_iframe"></iframe><script src="https://www.amateur.tv/js/IntersectionObserverIframe.js"><\/script>';const[w,E]=(0,e.useState)(f),S=()=>{E('<iframe width="100%" height="'+c+'" src='+b.toString()+' frameborder="0" class="atv_lazy_load_iframe"></iframe><script src="https://www.amateur.tv/js/IntersectionObserverIframe.js"><\/script>')},y=e=>{let a=b,t=e.val;e.multiple&&(t=t.join(",")),t?a.searchParams.set(e.name,t):a.searchParams.delete(e.name),C(b),S()};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.InspectorControls,null,(0,e.createElement)(r.PanelBody,{title:(0,l.__)("Filters","amateur-tv"),initialOpen:!0},(0,e.createElement)(r.SelectControl,{label:(0,l.__)("Gender","amateur-tv"),value:u,multiple:!0,options:[{label:(0,l.__)("Woman","amateur-tv"),value:"W"},{label:(0,l.__)("Couple","amateur-tv"),value:"C"},{label:(0,l.__)("Man","amateur-tv"),value:"M"},{label:(0,l.__)("Trans","amateur-tv"),value:"T"}],onChange:e=>{o({genre:e}),y({name:"genre",val:e,multiple:!0})}}),(0,e.createElement)(r.SelectControl,{label:(0,l.__)("Age","amateur-tv"),value:s,multiple:!0,options:[{label:"18-22",value:"18-22"},{label:"23-29",value:"23-29"},{label:"29-39",value:"29-39"},{label:"40",value:"40"}],onChange:e=>{o({age:e}),y({name:"age",val:e,multiple:!0})}}),(0,e.createElement)(r.SelectControl,{label:(0,l.__)("Language","amateur-tv"),value:p,multiple:!0,help:(0,l.__)("Language spoken by model","amateur-tv"),options:[{label:(0,l.__)("English"),value:"en"},{label:(0,l.__)("Spanish"),value:"es"},{label:(0,l.__)("French"),value:"fr"},{label:(0,l.__)("German"),value:"de"},{label:(0,l.__)("Russian"),value:"ru"},{label:(0,l.__)("Italian"),value:"it"},{label:(0,l.__)("Portugese"),value:"pt"},{label:(0,l.__)("Chinese"),value:"cn"}],onChange:e=>{o({camLang:e}),y({name:"camLang",val:e,multiple:!0})}}),(0,e.createElement)(r.FormTokenField,{label:(0,l.__)("Tags","amateur-tv"),value:h,tokenizeOnSpace:!0,__experimentalValidateInput:e=>/^[aA-zZ]+$/.test(e),onChange:e=>{const a=e.map((e=>e.toLowerCase()));o({tags:a}),y({name:"tag",val:a,multiple:!0})}}),(0,e.createElement)(r.SelectControl,{label:(0,l.__)("Cam Type","amateur-tv"),value:v,options:[{label:(0,l.__)("Most Popular","amateur-tv"),value:"popular"},{label:(0,l.__)("Specific Camname","amateur-tv"),value:"camname"},{label:(0,l.__)("Camname Parameter","amateur-tv"),value:"camparam"}],help:d[v],onChange:e=>{o({camType:e}),y({name:"livecam",val:""})}}),"camname"===v&&(0,e.createElement)(r.TextControl,{label:(0,l.__)("Camname","amateur-tv"),value:_,onChange:e=>{o({camName:e}),y({name:"livecam",val:e})}})),(0,e.createElement)(r.PanelBody,{title:(0,l.__)("Display Settings","amateur-tv"),initialOpen:!0},(0,e.createElement)(r.RangeControl,{label:(0,l.__)("Iframe Height","amateur-tv"),value:c,initialPosition:590,onChange:e=>{o({iframeHeight:e}),S()},min:200,max:1e3,step:50,type:"stepper",allowReset:!0}))),!!m&&(0,e.createElement)("div",{key:"loading",className:"wp-block-embed is-loading"},(0,e.createElement)(r.Spinner,null),(0,e.createElement)("p",null,(0,l.__)("Fetching...","amateur-tv"))),(0,e.createElement)("div",(0,t.useBlockProps)(),(0,e.createElement)(e.RawHTML,{className:"atv-iframe"},w)))},save:function(e){return null}}),(0,a.registerBlockType)("amateur-tv/camdetails",{edit:function(m){const{attributes:i,setAttributes:u,clientId:s}=m,{replaceInnerBlocks:c}=(0,n.useDispatch)("core/block-editor"),{lang:v,api:_,camType:g,camName:p,fields:h}=i,[d,b]=(0,e.useState)(!0),[C,f]=(0,e.useState)(null),[w,E]=(0,e.useState)(null),S=new URL(_),[y,k]=(0,e.useState)(S),[P]=(0,o.useEntityProp)("root","site","amateurtv_affiliate"),{inner_blocks:x,block:T}=(0,n.useSelect)((e=>({block:e("core/block-editor").getBlock(s),inner_blocks:e("core/block-editor").getBlock(s).innerBlocks}))),L={camname:(0,l.__)("It will show the details of the below mentioned username, even if it is offline","amateur-tv"),camparam:(0,l.__)('It will show the details from the parameter on the URL with the name "livecam"',"amateur-tv")},I={username:"Suzie Q",profilePicture:"https://cdn.vtsmedia.com/96937fb6a/r/static/media/logoLive@2x.30e42e3c.png",followers:"7113",rating:"50",genre:"Woman",seniority:"9 months",age:"26",languages:"English, Esperanto, Spanish",location:"Madrid, Spain",interestedIn:"Women, Men",tags:"young,blonde",lastShow:"Yesterday",aboutMe:"I'm nice",nextShow:"Tomorrow"},F=[{value:"username",label:(0,l.__)("Username","amateur-tv")},{value:"profilePicture",label:(0,l.__)("Profile Picture","amateur-tv"),type:"image"},{value:"followers",label:(0,l.__)("Followers","amateur-tv")},{value:"rating",label:(0,l.__)("Rating","amateur-tv")},{value:"genre",label:(0,l.__)("Genre","amateur-tv")},{value:"seniority",label:(0,l.__)("Seniority","amateur-tv")},{value:"age",label:(0,l.__)("Age","amateur-tv")},{value:"languages",label:(0,l.__)("Language(s)","amateur-tv")},{value:"location",label:(0,l.__)("Location","amateur-tv")},{value:"interestedIn",label:(0,l.__)("Interests","amateur-tv")},{value:"tags",label:(0,l.__)("Tags","amateur-tv")},{value:"lastShow",label:(0,l.__)("Last Show","amateur-tv")},{value:"aboutMe",label:(0,l.__)("About Me","amateur-tv")},{value:"nextShow",label:(0,l.__)("Next Show","amateur-tv")}],B=e=>{let a=y,t=e.val;e.multiple&&(t=t.join(",")),t?a.searchParams.set(e.name,t):a.searchParams.delete(e.name),"dummy"==e.name&&(a.searchParams.set("lang",v),a.searchParams.set("camname",p)),a.searchParams.set("a",P),a.searchParams.get("lang")||a.searchParams.set("lang",v),k(y),b(!0)},N=(0,n.useSelect)((e=>{var a;let t=null===(a=e("core").getSite())||void 0===a?void 0:a.language;return t&&t.split("_")[0]})),O=e=>{if(!e)return void f(null);let t=[];if(h&&h.map(((a,l)=>{let n,r=null;F.forEach((e=>{a==e.value&&(n=e.label,r=e.type)}));let o=["core/paragraph",{placeholder:n,content:String(e[a]),className:[`atv-${a}`,"camparam"]}];"image"===r&&(o=["core/image",{url:String(e[a]),className:[`atv-${a}`,"camparam"]}]),t.push(["core/columns",{},[["core/column",{},[["core/paragraph",{content:n,placeholder:n}]]],["core/column",{},[o]]]])})),x.length>0){let e=(0,a.createBlocksFromInnerBlocksTemplate)(t);c(s,e,!1)}f(t)};return(0,e.useEffect)((()=>{if(d)return"camparam"===g?((()=>{let e=[];F.forEach((a=>{e[a.value]=I[a.value]})),E(!0),O(e)})(),void b(!1)):void fetch(y,{method:"GET"}).then((e=>e.json())).then((e=>{b(!1),E(!!e.body),O(e.body)})).catch((e=>console.error(e))).finally((()=>{b(!1)}))}),[d,y]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.InspectorControls,null,(0,e.createElement)(r.PanelBody,{title:(0,l.__)("Filters","amateur-tv"),initialOpen:!0},(0,e.createElement)(r.SelectControl,{label:(0,l.__)("Cam Type","amateur-tv"),value:g||"camname",options:[{label:(0,l.__)("Specific Camname","amateur-tv"),value:"camname"},{label:(0,l.__)("Camname Parameter","amateur-tv"),value:"camparam"}],help:L[g],onChange:e=>{u({camType:e}),B({name:"camname",val:""}),c(s,[],!1)}}),("camname"===g||!g)&&(0,e.createElement)(r.TextControl,{label:(0,l.__)("Camname","amateur-tv"),value:p,onChange:e=>{u({camName:e}),B({name:"camname",val:e})}}),(!!w||x.length>0||"camparam"===g)&&(0,e.createElement)(r.SelectControl,{label:(0,l.__)("Fields","amateur-tv"),multiple:!0,value:h,options:F,help:(0,l.__)("Select the fields to display","amateur-tv"),onChange:e=>{u({fields:e}),B({name:"dummy",val:(new Date).getTime()})}})),(0,e.createElement)(r.PanelBody,{title:(0,l.__)("Display Settings","amateur-tv"),initialOpen:!0},(0,e.createElement)(r.SelectControl,{label:(0,l.__)("Language","amateur-tv"),value:v||N,options:[{label:(0,l.__)("English"),value:"en"},{label:(0,l.__)("Spanish"),value:"es"},{label:(0,l.__)("French"),value:"fr"},{label:(0,l.__)("German"),value:"de"}],onChange:e=>{u({lang:e}),B({name:"lang",val:e,multiple:!1})}}))),(0,e.createElement)("div",(0,t.useBlockProps)(),(0,e.createElement)("div",{className:"atv-cam-details"},!!d&&(0,e.createElement)("div",{key:"loading",className:"wp-block-embed is-loading"},(0,e.createElement)(r.Spinner,null),(0,e.createElement)("p",null,(0,l.__)("Fetching...","amateur-tv"))),!d&&(0,e.createElement)(t.InnerBlocks,{template:C,allowedBlocks:["core/paragraph","core/image","core/button","core/heading"]}))))},save:function(a){return(0,e.createElement)(t.InnerBlocks.Content,null)}})}},t={};function l(e){var n=t[e];if(void 0!==n)return n.exports;var r=t[e]={exports:{}};return a[e](r,r.exports,l),r.exports}l.m=a,e=[],l.O=function(a,t,n,r){if(!t){var o=1/0;for(s=0;s<e.length;s++){t=e[s][0],n=e[s][1],r=e[s][2];for(var m=!0,i=0;i<t.length;i++)(!1&r||o>=r)&&Object.keys(l.O).every((function(e){return l.O[e](t[i])}))?t.splice(i--,1):(m=!1,r<o&&(o=r));if(m){e.splice(s--,1);var u=n();void 0!==u&&(a=u)}}return a}r=r||0;for(var s=e.length;s>0&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[t,n,r]},l.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},function(){var e={826:0,431:0};l.O.j=function(a){return 0===e[a]};var a=function(a,t){var n,r,o=t[0],m=t[1],i=t[2],u=0;if(o.some((function(a){return 0!==e[a]}))){for(n in m)l.o(m,n)&&(l.m[n]=m[n]);if(i)var s=i(l)}for(a&&a(t);u<o.length;u++)r=o[u],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(s)},t=self.webpackChunkamateur_tv=self.webpackChunkamateur_tv||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var n=l.O(void 0,[431],(function(){return l(761)}));n=l.O(n)}();