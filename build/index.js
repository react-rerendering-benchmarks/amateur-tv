!function(){"use strict";var e,t={237:function(){var e=window.wp.blocks,t=window.wp.element,a=window.wp.i18n,l=window.wp.blockEditor,n=window.wp.data,r=window.wp.components;(0,e.registerBlockType)("amateur-tv/feed",{edit:function(e){(0,l.useBlockProps)();const{attributes:o,setAttributes:i}=e,[s,u]=(0,t.useState)(!0),[c,m]=(0,t.useState)(null),[v,p]=(0,t.useState)(new URL("https://public-api.amateur.cash/v3/cache/affiliates/promo/json")),{usernameColor:g,lang:_,liveColor:d,displayLive:h,displayTopic:b,displayGenre:f,displayUsers:w,bgColor:C,genre:E,age:k,topicColor:y,link:S,targetNew:T}=o,O=e=>{let t=v,a=e.val;e.multiple&&(a=a.join(",")),a?t.searchParams.set(e.name,a):t.searchParams.delete(e.name),m(null),p(v),u(!0)},L=(0,n.useSelect)((e=>{var t;let a=null===(t=e("core").getSite())||void 0===t?void 0:t.language;return a&&a.split("_")[0]}));return(0,t.useEffect)((()=>{s&&fetch(v,{method:"GET"}).then((e=>e.json())).then((e=>{u(!1),m(e.body)})).catch((e=>console.error(e)))}),[s,v]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(r.PanelBody,{title:(0,a.__)("Filters","amateur-tv"),initialOpen:!0},(0,t.createElement)(r.SelectControl,{label:(0,a.__)("Gender","amateur-tv"),value:E,multiple:!0,options:[{label:(0,a.__)("Woman","amateur-tv"),value:"W"},{label:(0,a.__)("Couple","amateur-tv"),value:"C"},{label:(0,a.__)("Man","amateur-tv"),value:"M"},{label:(0,a.__)("Trans","amateur-tv"),value:"T"}],onChange:e=>{i({genre:e}),O({name:"genre",val:e,multiple:!0})}}),(0,t.createElement)(r.SelectControl,{label:(0,a.__)("Age","amateur-tv"),value:k,multiple:!0,options:[{label:"18-22",value:"18-22"},{label:"23-29",value:"23-29"},{label:"29-39",value:"29-39"},{label:"40",value:"40"}],onChange:e=>{i({age:e}),O({name:"age",val:e,multiple:!0})}})),(0,t.createElement)(r.PanelBody,{title:(0,a.__)("Display Settings","amateur-tv"),initialOpen:!0},(0,t.createElement)(r.SelectControl,{label:(0,a.__)("Language","amateur-tv"),value:_||L,options:[{label:(0,a.__)("English","amateur-tv"),value:"en"},{label:(0,a.__)("Spanish","amateur-tv"),value:"es"},{label:(0,a.__)("French","amateur-tv"),value:"fr"},{label:(0,a.__)("German","amateur-tv"),value:"de"}],onChange:e=>{i({lang:e}),O({name:"lang",val:e,multiple:!1})}}),(0,t.createElement)(r.ToggleControl,{label:(0,a.__)("Show Live Label","amateur-tv"),checked:!!h,onChange:e=>{i({displayLive:!h})}}),(0,t.createElement)(r.ToggleControl,{label:(0,a.__)("Show Gender","amateur-tv"),checked:!!f,onChange:e=>{i({displayGenre:!f})}}),(0,t.createElement)(r.ToggleControl,{label:(0,a.__)("Show Users","amateur-tv"),checked:!!w,onChange:e=>{i({displayUsers:!w})}}),(0,t.createElement)(r.ToggleControl,{label:(0,a.__)("Show Topic","amateur-tv"),checked:!!b,onChange:e=>{i({displayTopic:!b})}}),(0,t.createElement)(r.Flex,null,(0,t.createElement)(r.FlexBlock,null,(0,t.createElement)(r.FlexItem,null,(0,t.createElement)(r.TextControl,{label:(0,a.__)("Link","amateur-tv"),value:S,onChange:e=>{i({link:e})},help:(0,a.__)("Absolute or relative URL. Leave blank to use the link of the cam","amateur-tv")})),(0,t.createElement)(r.FlexItem,null,(0,t.createElement)(r.ToggleControl,{label:(0,a.__)("Open in new tab","amateur-tv"),checked:!!T,onChange:e=>{i({targetNew:e})}})))),(0,t.createElement)(l.PanelColorSettings,{title:(0,a.__)("Color Settings","amateur-tv"),initialOpen:!1,colorSettings:[{value:g,onChange:e=>{i({usernameColor:e})},label:(0,a.__)("Username/Gender","amateur-tv")},{value:d,onChange:e=>{i({liveColor:e})},label:(0,a.__)("Live Label","amateur-tv")},{value:y,onChange:e=>{i({topicColor:e})},label:(0,a.__)("Topic","amateur-tv")},{value:C,onChange:e=>{i({bgColor:e})},label:(0,a.__)("Background","amateur-tv")}]}))),!!s&&(0,t.createElement)("div",{key:"loading",className:"wp-block-embed is-loading"},(0,t.createElement)(r.Spinner,null),(0,t.createElement)("p",null,(0,a.__)("Fetching...","amateur-tv"))),(0,t.createElement)("div",(0,l.useBlockProps)(),(0,t.createElement)("div",{className:"atv-cams-list",style:{backgroundColor:C}},!!c&&c.map(((e,l)=>(0,t.createElement)("a",{key:l,target:"_blank",className:"atv-cam"},(0,t.createElement)("img",{src:e.image,width:"216",height:"115"}),!!h&&(0,t.createElement)("span",{className:"atv-live",style:{color:d}},(0,a.__)("Live","amateur-tv")),!!f&&(0,t.createElement)("span",{className:"atv-genre",style:{color:g}},(0,a.__)(e.genre,"amateur-tv")),!!w&&(0,t.createElement)("span",{className:"atv-viewers dashicons dashicons-visibility",style:{color:d}},e.viewers),(0,t.createElement)("span",{className:"atv-username",style:{color:g}},e.username),!!b&&(0,t.createElement)("div",{className:"atv-topic",style:{color:y}},e.topic[_||"en"])))))))},save:function(e){return null}}),(0,e.registerBlockType)("amateur-tv/iframe",{edit:function(e){(0,l.useBlockProps)();const{attributes:o,setAttributes:i}=e,[s,u]=(0,t.useState)(!1),[c,m]=(0,t.useState)(new URL("https://www.yonkis.tv/freecam/embed?width=890&height=580&lazyloadvideo=1&a_mute=1"));let v='<iframe width="890" height="580" src='+c.toString()+' frameborder="0" class="atv_lazy_load_iframe"></iframe><script src="https://www.yonkis.tv/js/IntersectionObserverIframe.js"><\/script>';const[p,g]=(0,t.useState)(v),{lang:_,genre:d,age:h}=o,b=e=>{let t=c,a=e.val;e.multiple&&(a=a.join(",")),t.searchParams.set(e.name,a),m(c),g('<iframe width="890" height="580" src='+c.toString()+' frameborder="0" class="atv_lazy_load_iframe"></iframe><script src="https://www.yonkis.tv/js/IntersectionObserverIframe.js"><\/script>')};return(0,n.useSelect)((e=>{var t;let a=null===(t=e("core").getSite())||void 0===t?void 0:t.language;return a&&a.split("_")[0]})),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(r.PanelBody,{title:(0,a.__)("Filters","amateur-tv"),initialOpen:!0},(0,t.createElement)(r.SelectControl,{label:(0,a.__)("Gender","amateur-tv"),value:d,multiple:!0,options:[{label:(0,a.__)("Woman","amateur-tv"),value:"W"},{label:(0,a.__)("Couple","amateur-tv"),value:"C"},{label:(0,a.__)("Man","amateur-tv"),value:"M"},{label:(0,a.__)("Trans","amateur-tv"),value:"T"}],onChange:e=>{i({genre:e}),b({name:"genre",val:e,multiple:!0})}}),(0,t.createElement)(r.SelectControl,{label:(0,a.__)("Age","amateur-tv"),value:h,multiple:!0,options:[{label:"18-22",value:"18-22"},{label:"23-29",value:"23-29"},{label:"29-39",value:"29-39"},{label:"40",value:"40"}],onChange:e=>{i({age:e}),b({name:"age",val:e,multiple:!0})}}))),!!s&&(0,t.createElement)("div",{key:"loading",className:"wp-block-embed is-loading"},(0,t.createElement)(r.Spinner,null),(0,t.createElement)("p",null,(0,a.__)("Fetching...","amateur-tv"))),(0,t.createElement)("div",(0,l.useBlockProps)(),(0,t.createElement)(t.RawHTML,null,p),";"))},save:function(e){return null}})}},a={};function l(e){var n=a[e];if(void 0!==n)return n.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,l),r.exports}l.m=t,e=[],l.O=function(t,a,n,r){if(!a){var o=1/0;for(c=0;c<e.length;c++){a=e[c][0],n=e[c][1],r=e[c][2];for(var i=!0,s=0;s<a.length;s++)(!1&r||o>=r)&&Object.keys(l.O).every((function(e){return l.O[e](a[s])}))?a.splice(s--,1):(i=!1,r<o&&(o=r));if(i){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,n,r]},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};l.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,r,o=a[0],i=a[1],s=a[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(n in i)l.o(i,n)&&(l.m[n]=i[n]);if(s)var c=s(l)}for(t&&t(a);u<o.length;u++)r=o[u],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(c)},a=self.webpackChunkamateur_tv=self.webpackChunkamateur_tv||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var n=l.O(void 0,[431],(function(){return l(237)}));n=l.O(n)}();